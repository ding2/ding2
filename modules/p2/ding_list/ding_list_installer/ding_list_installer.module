<?php

/**
 * @file
 * Code for the Ding List Installer feature.
 */

include_once 'ding_list_installer.features.inc';

/**
 * Implements hook_panels_pane_content_alter().
 */
function ding_list_installer_panels_pane_content_alter($content, $pane, $args, $contexts) {
  if ($pane->subtype === 'ding_list_elements-default_list' && !empty($args[0])) {
    $query = db_select('eck_ding_type', 'edt')
      ->fields('edt', array('title'))
      ->condition('edt.type', 'ding_list')
      ->condition('edt.id', (int) $args[0]);

    $title = $query->execute()->fetchField();
    $content->title = t('%1', array('%1' => $title));
  }
}
